---
title: "JBoss AS7 with Apache + SSL"
layout: blog
author: Cody Lerum
email: cody.lerum@gmail.com
tags: [ jboss, apache, ssl, linux, ubuntu ]
---
h5. Why would you want to do this?

p. After years of having my users connect natively to JBoss application servers in production I have had a few little issues that nagged at me. One of the biggest is that there is not a way to show a custom error page to my users when the JBoss server is down. Second is that I try and limit as much as I can specific configuration details that go into the server configuration so that upgrading between minor releases does not require a lot of configuration editing. Setting up SSL certificates and modifying the default server ports qualifies as hacking up the standard configuration in my book so it is something I would like to avoid.

h5. The Goal

p. What we are ultimately trying to do is to have an Apache web server handle all the communication between the user and our system. This communication will be secured via SSL. The apache server however has no real content so it will "proxy" the requests to our JBoss Application server.

h5. Other details
* Our project is named foo
* Requests come to https://foo.outjected.com and we don't want to have our users go to https://foo.outjected.com/foo/ so our web-app context root is going to be "/"
* We are going to configure the JBoss server with a virtual host so it can support more than one app if needed.

<img src="/blog/2012/12/13/apache_to_jboss_as.svg"/>

p. This little example is going to be using Ubuntu 12.04.1 LTS and JBoss AS 7.1.3.Final but should be compatible with similar setups.

h5. Let's do it.

p. I'm going to assume you have a bare bones Apache 2+ server and JBoss AS7 server setup. If you don't then search around for some guides. This blog is interested in how to pair them, not the basic setup of each.

h5. Apache Prep

bc.. a2enmod proxy
a2enmod proxy_ajp
a2enmod ssl